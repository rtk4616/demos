<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="content-type" content="text/html;charset=utf-8"> 
   <title>Haskell, Haskell, Haskell</title>

<meta name="generator" content="Slide Show (S9) v2.5.0 on Ruby 2.1.5 (2014-11-13) [i386-mingw32]">
<meta name="author"    content="Your Name Here" >

<!-- helper/macro that lets you add (CSS3) gradient using headers
     see http://slideshow.rubyforge.org/themes.html
     
     -->

<!-- S6 style sheet links -->
<link rel="stylesheet" href="haskell.css" media="projection" id="styleProjection">
<link rel="stylesheet" href="s6/screen.css"         media="screen"     id="styleScreen">
<link rel="stylesheet" href="s6/print.css"          media="print">

<!-- S6 JS -->
<script src="s6/jquery.js"></script>
<script src="s6/jquery.slideshow.js"></script>
<script>
  $(document).ready( function() {
    Slideshow.init();
  } );

  
</script>

<!-- Better Browser Banner for Microsoft Internet Explorer (IE) -->
<!--[if IE]>
<script src="s6/jquery.microsoft.js"></script>
<![endif]-->



</head>
<body>

<div class="layout"> 
  <div id="header"></div>
  <div id="footer">
    <h1>Your Footer Here</h1>
    <h2>Your Subfooter Here</h2>
  </div>
</div>

<div class="presentation">
   
<div class='slide '>
<!-- === begin markdown block ===

      generated by markdown/1.2.0 on Ruby 2.1.5 (2014-11-13) [i386-mingw32]
                on 2015-03-12 17:52:29 +0100 with Markdown engine kramdown (1.5.0)
                  using options {}
  -->


<!-- _S9SLIDE_ -->
<h1 id="sqlite-database-access">SQLite Database Access</h1>

<ul>
  <li>HSQL</li>
  <li>Persistent</li>
</ul>

<h2 id="hsql-example">HSQL Example</h2>

<pre><code>λ&gt; :module Database.HDBC Database.HDBC.Sqlite3
λ&gt; conn &lt;- connectSqlite3 "test.db"
Loading package HDBC-1.1.5 ... linking ... done.
Loading package HDBC-sqlite3-1.1.4.0 ... linking ... done.
λ&gt; run conn "CREATE TABLE test (id INTEGER NOT NULL, desc VARCHAR(80))" []
0
λ&gt; run conn "INSERT INTO test (id) VALUES (0)" []
1
λ&gt; commit conn
λ&gt; disconnect conn
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="persistent-entities-schema-and-migrations">Persistent Entities (Schema and Migrations)</h1>

<pre><code>import Database.Persist.TH

mkPersist sqlSettings [persistLowerCase|
  Country
    name String
    deriving Show
  Client
    firstName String
    lastName  String
    address   String
    country   CountryId
    age       Int
    deriving Show
...
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="persistent-example">Persistent Example</h1>

<pre><code>import Database.Persist.Sqlite

conn = runSqlite "test.db" $ do
  austria  &lt;- insert $ Country "Austria"
  _client1 &lt;- insert $ Client "Anton" "Dreher" "Brauplatz 1" austria 25
  return ()
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="persistent-queries">Persistent Queries</h1>

<pre><code>getAdultsOfSpainAndUS = do -- returns [Entity Client]
  Just (Entity spId _) &lt;- getBy $ UniqueCountryName "Spain"
  Just (Entity usId _) &lt;- getBy $ UniqueCountryName "United States of America"
  selectList ( [ ClientCountry ==. spId, ClientAge &gt;=. Just 18 ]
     ||. [ ClientCountry ==. usId, ClientAge &gt;=. Just 21 ] )
     []
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="sql-queries-with-esqueleto">SQL Queries with Esqueleto</h1>

<pre><code>getPeopleOver25FromSpainOrGermany = -- returns [Entity Client]
  select $
  from $ \(client, country) -&gt; do
  where_ ( client ^. ClientAge &gt;. just (val 25)
    &amp;&amp;. country ^. CountryName `in_` valList [ "Spain", "Germany" ]
    &amp;&amp;. client ^. ClientCountry ==. country ^. CountryId )
  orderBy [ asc (client ^. ClientLastName), asc (client ^. ClientFirstName) ]
  return client
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="sql-queries-with-esqueleto-join">SQL Queries with Esqueleto (Join)</h1>

<pre><code>getPeopleOver25FromSpainOrGermanyJoin = -- returns [Entity Client]
  select $
  from $ \(client `InnerJoin` country) -&gt; do
  on (client ^. ClientCountry ==. country ^. CountryId)
  where_ ( client ^. ClientAge &gt;. just (val 25)
    &amp;&amp;. country ^. CountryName `in_` valList [ "Spain", "Germany" ])
  orderBy [ asc (client ^. ClientLastName), asc (client ^. ClientFirstName) ]
  return client
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="web-frameworks--libraries">Web Frameworks / Libraries</h1>

<ul>
  <li>Yesod   (&#8220;Full stack&#8221;)</li>
  <li>Happstack</li>
  <li>Snap</li>
  <li>Scotty  (Minimal; Sinatra-Inspired)</li>
  <li>Spock</li>
  <li>and many more</li>
</ul>

<h2 id="scotty-example">Scotty Example</h2>

<pre><code>import Web.Scotty

import Data.Monoid (mconcat)

main = scotty 3000 $ do
    get "/:word" $ do
        beam &lt;- param "word"
        html $ mconcat ["&lt;h1&gt;Scotty, ", beam, " me up!&lt;/h1&gt;"]
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="scotty-example---url-shortener">Scotty Example - URL Shortener</h1>

<pre><code>main :: IO ()
main = scotty 3000 $ do
    middleware logStdoutDev
    middleware static

    m &lt;- liftIO $ newMVar (0::Int,M.empty :: M.Map Int T.Text)

    get "/" $ do
        html $ renderHtml
             $ H.html $ do
                H.body $ do
                    H.form H.! method "post" H.! action "/shorten" $ do
                        H.input H.! type_ "text" H.! name "url"
                        H.input H.! type_ "submit"

    post "/shorten" $ do
        url &lt;- param "url"
        liftIO $ modifyMVar_ m $ \(i,db) -&gt; return (i+1, M.insert i (T.pack url) db)
        redirect "/list"

    -- We have to be careful here, because this route can match pretty much anything.
    -- Thankfully, the type system knows that 'hash' must be an Int, so this route
    -- only matches if 'read' can successfully parse the hash capture as an Int.
    -- Otherwise, the pattern match will fail and Scotty will continue matching
    -- subsequent routes.
    get "/:hash" $ do
        hash &lt;- param "hash"
        (_,db) &lt;- liftIO $ readMVar m
        case M.lookup hash db of
            Nothing -&gt; raise $ mconcat ["URL hash #", T.pack $ show $ hash, " not found in database!"]
            Just url -&gt; redirect url

    -- We put /list down here to show that it will not match the '/:hash' route above.
    get "/list" $ do
        (_,db) &lt;- liftIO $ readMVar m
        json $ M.toList db
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="why-haskell">Why Haskell?</h1>

<p>Learn something new - state-of-the-art in language design;
many new concepts (compared to classics e.g. C, Perl, Ruby, PHP; etc.):</p>

<ul>
  <li>Great for learing a &#8220;pure&#8221; &#8220;state-of-the-art&#8221; functional programming (FP) language</li>
  <li>Great for learning the &#8220;state-of-the-art&#8221; for a strongly-typed language
    <ul>
      <li>Type classes, type families (Typeclassopedia)</li>
      <li>Algebraic Data types  (ADT)</li>
      <li>Category theory (Yoneda Lemma, Kleisli Fish, etc.)</li>
      <li>etc.</li>
    </ul>
  </li>
  <li>Many new concepts
    <ul>
      <li>Programming without Null/Nil - Maybe, Just, Nothing, ()</li>
      <li>&#8220;Pure&#8221; Functions without Side-Effects and I/O Functions with Side-Effects</li>
      <li>Monads, Monoids, Applicatives, Functors, Prisms, Lenses, etc.</li>
    </ul>
  </li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="beautiful-minimalistic-syntax">Beautiful &#8220;Minimalistic&#8221; Syntax</h1>

<pre><code>a b c d
</code></pre>

<p>Trivia Quiz -  Only one interpretation possible in Haskell</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="beautiful-minimalistic-syntax-1">Beautiful &#8220;Minimalistic&#8221; Syntax</h1>

<p>Function a with three parameters, that is, b, c and d.</p>

<pre><code>a b c d          f . g x y    f g( x y )  

a( b, c, d )     f( g(x,y))       -- Classic-style

(a b c d)       (f (g x y))       -- Lisp-style
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="language-example---inspired-by-haskell----elm">Language Example - Inspired by Haskell  - Elm</h1>

<h2 id="elm">Elm</h2>

<p>Why: Runs in your Browser &#8211; (Yet Another) Alternative Generate-to-JavaScript Language</p>

<h3 id="who">Who?</h3>

<p>Sponsored by Prezi (Budapest, Hungary); Headed by Evan Czaplicki</p>

<p>Example:</p>

<pre><code>profile : User -&gt; Html
profile user =
    div [] [
        img [ src user.picture ] [],
        text user.name

font : List CssProperty
font = [
    prop "font-family" "futura, sans-serif",
    prop "color" "rgb(42, 42, 42)",
    prop "font-size" "2em"
  ]

background : List CssProperty
background = [
    prop "background-color" "rgb(245, 245, 245)"
  ]

profiles : List User -&gt; Html
profiles users =
    div [ style (font ++ background) ] (map profile users)
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="language-example---inspired-by-haskell----idris">Language Example - Inspired by Haskell  - Idris</h1>

<h2 id="idris">Idris</h2>

<p>Why: Faster, Easier &#8211; Dependent Datatypes, Laziness Optional, and More</p>

<p>A standard example of a dependent type is the type of &#8220;lists with length&#8221;,
conventionally called vectors in the dependent type literature.</p>

<p>Example:</p>

<pre><code>data Vect : Nat -&gt; Type -&gt; Type where
  Nil : Vect Z a
  (::) : a -&gt; Vect k a -&gt; Vect (S k) a

(++) : Vect n a -&gt; Vect m a -&gt; Vect (n + m) a
(++) Nil ys = ys
(++) (x :: xs) ys = x :: xs ++ xs   -- broken
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="other-languages-inspired-by-haskell">Other languages inspired by Haskell</h1>

<ul>
  <li>F# .NET (Microsoft)</li>
  <li>Swift (Apple)</li>
  <li>Hack (Facebook)</li>
  <li>Many more</li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="haskell-programs---haskell-goodies---haskell-in-the-real-world">Haskell Programs - Haskell Goodies - Haskell in the Real World</h1>

<p>Pandoc - &#8220;Universal&#8221; Document Generator; Headed by John MacFarlane (University of Berkeley)</p>

<p>Example:  Generate a book (EPUB) using Markdown</p>

<p>mybook.txt:</p>

<pre><code>Title: My Book
Author: Ruby Rubacuori

This is my book.

# Chapter One

Chapter one is over.

# Chapter Two

Chapter two has just begun.
</code></pre>

<p>To build your book issue:</p>

<pre><code>$ pandoc mybook.txt -o mybook.epub
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="learning-haskell">Learning Haskell</h1>

<h2 id="books">Books</h2>

<ul>
  <li>Learn You a Haskell for Great Good</li>
  <li>Real World Haskell</li>
  <li>Developing Web Applications with Haskell and Yesod, 2nd Edition</li>
  <li>Beginning Haskell</li>
  <li>Seven Languages in Seven Weeks (incl. Haskell)</li>
  <li>Seven More Languages in Seven Weeks (incl. Elm and Idris)</li>
</ul>

<h2 id="articles">Articles</h2>

<ul>
  <li>How I Start Series - Haskell - by Chris Allen</li>
  <li>School of  Haskell - Basics of Haskell Series -  by Bartosz Milewski (FP Complete)</li>
  <li>What I Wish I Knew When Learning Haskell - by Stephen Diehl</li>
</ul>

<!-- === end markdown block === -->
</div>


</div><!-- presentation -->
</body>
</html>
